#+TITLE: README for Vagrant dev linux box
#+AUTHOR:   Roman Shestakov
#+LANGUAGE: en

* Description

A base Vagrant VM provisioned with puppet and librarian-puppet. The VM
uses standard Debian precise64 box. It could be used as a base box for certain dev
projects as it has provisioning for some basic tools.

* On startup the VM runs the ansible provision to install
- essential build tools.
- erlang

* VM would also execute the Puppet setup installs:
- emacs v24.4
- emacs.d from https://github.com/RomanShestakov/.emacs.d.git

* How to create a base box:
https://scotch.io/tutorials/how-to-create-a-vagrant-base-box-from-an-existing-one

- check vm from github and provision it
#+BEGIN_SRC
git clone https://github.com/RomanShestakov/vm.git
cd vm
vagrant up
#+END_SRC

- package newly provisioned box into a new base box
#+BEGIN_SRC
# package the VM into a new vagrant box.
# this will create vm.box file in the vm dir
vagrant package --output vm.box
# add the new box into Vagrant install into ~/.vagrant.d/boxes on the local host
# make sure vm.box file is removed from vm dir
vagrant box add vmbox vm.box --force
#+END_SRC

- init new Vagrant box:
#+BEGIN_SRC
# this will create a Vagrantfile in the current dir
vagrant init vmbox
#+END_SRC
